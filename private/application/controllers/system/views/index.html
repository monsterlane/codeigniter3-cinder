<!DOCTYPE html>
<html lang="en">
<head>
	<title><?=$system[ 'data' ][ 'title' ]?></title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<?php
	foreach ( $system[ 'data' ][ 'view' ][ 'css' ] as $style ) {
		?><link href="<?=base_url( $system[ 'options' ][ 'cache_path' ] . $style )?>" type="text/css" rel="stylesheet" media="screen" /><?php
	}

	foreach ( $pending[ 'data' ][ 'view' ][ 'css' ] as $style ) {
		?><link href="<?=base_url( $system[ 'options' ][ 'cache_path' ] . $style )?>" type="text/css" rel="stylesheet" media="screen" /><?php
	}
	?>
</head>
<body>

<div id="cinderBodyArea"></div>

<script type="text/javascript" src="<?=base_url( $system[ 'options' ][ 'cache_path' ] . 'system/js/require.min.js' )?>"></script>
<script type="text/javascript">
/* config */
require.config({
	baseUrl: '<?=rtrim( $system[ 'options' ][ 'cache_path' ], '/' )?>',
	map: {
		'*': {
			'css': 'system/js/css.min'
		}
	},
	paths: {
		'domready': 'system/js/domready.min',
		'jquery': 'system/js/jquery.min',
		'class': 'system/js/class.min'
	},
	urlArgs: Date.now( )
});

/* boot */
require( [ 'domready!', 'system/js/app' ], function( aDocument, aApp ) {
	'use strict';

	var app = new aApp( <?=json_encode( $system[ 'options' ] )?> );

	app.load( <?=json_encode( $pending[ 'data' ] )?> );
});
</script>

</body>
</html>
